![image](https://user-images.githubusercontent.com/63278762/123659411-9fdc9380-d86d-11eb-9f26-0d97b6eaa300.png)
>
> íŒŒì´ì¬ ì½”ë”©ì˜ ê¸°ìˆ ì„ ê³µë¶€í•˜ëŠ” í’€ìžŽ

# ðŸ“ ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©
## Better Way 22. ë³€ìˆ˜ ìœ„ì¹˜ ì¸ìžë¥¼ ì‚¬ìš©í•´ ì‹œìž‘ì ì¸ ìž¡ìŒì„ ì¤„ì—¬ë¼.
ìœ„ì¹˜ ì¸ìžë¥¼ ê°€ë³€ì ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìž‡ìœ¼ë©´ í•¨ìˆ˜ í˜¸ì¶œì´ ë” ê¹”ë”í•´ì§„ë‹¤.    
(ì´ëŸ° ìœ„ì¹˜ ì¸ìžë¥¼ ê°€ë³€ ì¸ìžë‚˜ ìŠ¤íƒ€ ì¸ìžë¼ê³  ë¶€ë¦„. `*args`)
```python
def log(message, arg, *values): # ìš”ê²Œ parameter
	if not values:
		print(message)
	else:
		values_str = ', '.join(str(x) for x in values)
		print(f'{message}: {values_str}')
```
* ë¬¸ì œì 
1. ì œë„ˆë ˆì´í„° ì•žì— * ì—°ì‚°ìžë¥¼ ì‚¬ìš©í•˜ë©´ íŠœí”Œë¡œ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ë¥¼ ì•„ì£¼ ë§Žì´ ì†Œë¹„í•  ìˆ˜ ìžˆë‹¤. ë•Œë¬¸ì— ê°€ë³€ì ì¸ ì¸ìžì˜ ê°œìˆ˜ê°€ ì²˜ë¦¬í•˜ê¸° ì¢‹ì„ ì •ë„ë¡œ ìž‘ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê³  ìžˆëŠ” ê²½ìš°ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ìž¥ ì í•©í•˜ë‹¤. 
2. í•¨ìˆ˜ì— ìƒˆë¡œìš´ ìœ„ì¹˜ ì¸ìžë¥¼ ì¶”ê°€í•˜ë©´ í•´ë‹¹ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì„ ëª¨ë‘ ë³€ê²½í•´ì•¼ í•œë‹¤. -> *argsë¥¼ ë°›ì•„ë“¤ì´ëŠ” í•¨ìˆ˜ë¥¼ í™•ìž¥í•  ë•ŒëŠ” í‚¤ì›Œë“œ ì¸ìžë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

## Better Way 23. í‚¤ì›Œë“œ ì¸ìžë¡œ ì„ íƒì ì¸ ê¸°ëŠ¥ì„ ì œê³µí•˜ë¼
* í‚¤ì›Œë“œ ì¸ìž : í‚¤ì›Œë“œ(ì‹ë³„ìž)ê°€ ì •ì˜ëœ ì¸ìž    
`a(x = 0, y = 0)`
* ìœ„ì¹˜ ì¸ìž : í‚¤ì›Œë“œê°€ ì•„ë‹Œ ë‚˜ë¨¸ì§€ ì¸ìž
ì£¼ë¡œ ì•žìª½ì— ìœ„ì¹˜

#### í‚¤ì›Œë“œ ì¸ìžì˜ ìž¥ì 
1. íž˜ìˆ˜ í˜¸ì¶œì˜ ì˜ë¯¸ë¥¼ ì •í™•ížˆ ì•Œë ¤ì¤„ ìˆ˜ ìžˆë‹¤.
2. ë””í´íŠ¸ ê°’ì„ ì§€ì •í•  ìˆ˜ ìžˆë‹¤.
3. í™•ìž¥ì„±ì´ ì¢‹ë‹¤.

![á„‹á…µá†«á„Œá…¡ á„Žá…¥á„…á…µ á„‰á…®á†«á„‰á…¥](https://user-images.githubusercontent.com/63278762/124254045-9dc34f00-db63-11eb-95de-71d04b77b2a6.png)

`def func(ìœ„ì¹˜ì¸ìž(*args), í‚¤ì›Œë“œ ì¸ìž(**knargs))`

## Better Way 24. Noneê³¼ ë…ìŠ¤íŠ¸ë§ì„ ì‚¬ìš©í•´ ë™ì ì¸ ë””í´íŠ¸ ì¸ìžë¥¼ ì§€ì •í•˜ë¼.
```python
from time import sleep
from datetime import datetime

def log(message, when=datetime.now()):
	print(f'{when}: {message}')

# ë””í´íŠ¸ ì¸ìžëŠ” ë¶€ë¥¼ë•Œë§ˆë‹¤ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ëª¨ë“ˆì´ ë¡œë“œ ë  ë•Œ í•œ ë²ˆë§Œ ë¶€ë¥¸ë‹¤.
```
#### í•´ê²° ë°©ë²•
1. default ê°’ìœ¼ë¡œ Noneì„ ì§€ì •í•˜ê³  ì‹¤ì œ ë™ìž‘ì„ ë…ìŠ¤íŠ¸ë§ì— ë¬¸ì„œí™”í•˜ë‹¤.
```python
def log(message, when=None): 
	"""
	Args:
		message: message to print
		when: timestamp for the datetime. (current time)	
	"""
	if when is None:
	   when = datetime.now()
	print(f'{when}: {message}')
```
ë””í´íŠ¸ ì¸ìž ê°’ìœ¼ë¡œ Noneì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì¸ìžê°€ ê°€ë³€ì ì¼ ê²½ìš° ì¤‘ìš”í•˜ë‹¤.
```python
import json

def decode(data, default={}): # ëª¨ë“ˆì„ ë¡œë“œí•˜ëŠ” ì‹œì ì— ì„¤ì •ì´ ë˜ê¸° ë•Œë¬¸ì— ë°‘ì— fooì™€ barê°€ ë™ì¼í•œ ê°ì²´ë¥¼ ë°”ë¼ë³´ê³  ìžˆë‹¤.
   ...
   foo = decode('bad data...')
   foo['stuff'] = 5
   bar = decode('also bad...')
   bar['meep'] = 1
```

#### Optional íƒ€ìž… ì• ë„ˆí…Œì´ì…˜
```python
from typing import Optional

def log_tuped(message: str, when: Optional[datetime]=None) -> None:
   """
	 ...docstring...
   """
   if when is None:
      when = datetime.now()
```
`Optional` : ë°˜í™˜ê°’ì´ none ë˜ëŠ” typeì´ë‹¤.    
https://docs.python.org/3.7/library/typing.html#typing.Optional    
> â“docstringì˜ ìŠ¤íƒ€ì¼ í˜•ì‹ì´ ìžˆëŠ”ì§€ ê¶ê¸ˆí•´ì„œ ì°¾ì•„ë´„.     https://stackoverflow.com/questions/3898572/what-is-the-standard-python-docstring-format



## Better Way 25. ìœ„ì¹˜ë¡œë§Œ ì¸ìžë¥¼ ì§€ì •í•˜ê²Œ í•˜ê±°ë‚˜ í‚¤ì›Œë“œë¡œë§Œ ì¸ìžë¥¼ ì§€ì •í•˜ê²Œ í•´ì„œ í•¨ìˆ˜ í˜¸ì¶œì„ ëª…í™•í•˜ê²Œ ë§Œë“¤ë¼.
```python
def safe_division(number, divisor, ignore_overflow, ignore_zero_division):
    try:
        return number / divisor
    except OverflowError: #ìˆ«ìžê°€ sys.maxsize ë³´ë‹¤ í¬ë©´ í•´ë‹¹ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.
        if ignore_overflow:
            return 0
        else:
            raise
    except ZeroDivisionError:
        if ignore_zero_division:
            return float('inf')
        else:
            raise

#
result = safe_division(1.0, 10**500, True, False)
print(result) # 0 ì¶œë ¥
result = safe_division(1.0, 0, False, True)
print(result) # 'inf' ì¶œë ¥
```
ìœ„ì¹˜ ì¸ìžë¡œ í•˜ë©´ ì¸ìžì˜ ìœ„ì¹˜ë¥¼ í˜¼ë™í•˜ê¸°ê°€ ì‰¬ì›Œ í‚¤ì›Œë“œ ì¸ìžë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.    
í‚¤ì›Œë“œ ì¸ìžëŠ” ì˜ë„ë¥¼ í™•ì‹¤í•˜ê²Œ í•´ì•¼ í•œë‹¤.    
![á„†á…¢á„€á…¢á„‡á…§á†«á„‰á…®](https://user-images.githubusercontent.com/63278762/124250393-d2cda280-db5f-11eb-856d-9a5c4fb9241c.png)
* `*` ì „ : ìœ„ì¹˜ ì¸ìž
* ì‚¬ì´ ë§¤ê°œë³€ìˆ˜ : Default ì¸ìž
* `/` í›„ : í‚¤ì›Œë“œ ì¸ìž

## Better Way 26. functools.wrapì„ ì‚¬ìš©í•´ í•¨ìˆ˜ ë°ì½”ë ˆì´í„°ë¥¼ ì •ì˜í•˜ë¼.
> â“decorator    
> ìžì‹ ì´ ê°ì‹¸ê³  ìžˆëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ê¸° ì „ê³¼ í›„ì— ì½”ë“œë¥¼ ì¶”ê°€ë¡œ ì‹¤í–‰í•´ì¤€ë‹¤.    
> ```python
> def ë°ì½”ë ˆì´í„°ì´ë¦„(func):
>    def ë‚´ë¶€í•¨ìˆ˜ì´ë¦„(*args, **kwargs):
>        ê¸°ì¡´ í•¨ìˆ˜ì— ì¶”ê°€í•  ëª…ë ¹
>        return func(*args, **kwargs)
>    return ë‚´ë¶€í•¨ìˆ˜ì´ë¦„
> 
> @ë°ì½”ë ˆì´í„°ì´ë¦„
> def ë‚´í•¨ìˆ˜ì´ë¦„():
>   pass
> ```
> ì°¸ê³  : http://abh0518.net/tok/?p=604

```python
def trace(func):
    def wrapper(*args, **kwargs):
        result = func(*args, **kwargs)
        print(f'{func.__name}({args!r},{kwargs!r})' f'->{return!r}')
        return result
    return wrapper

@trace
def fibonacci(n):
    if n in (0,1):
        return n
    return (fibonacci(n-2)+fibonacci(n-1))
```
ìœ„ `fibonacci`í•¨ìˆ˜ëŠ” `fibonacci = trace(fibonacci)`ì™€ ê°™ì€ í˜•íƒœì´ë‹¤.

ì—¬ê¸°ì„œ ìƒê¸°ëŠ” ë¬¸ì œëŠ” ë°ì½”ë ˆì´í„° traceê°€ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ê°€ fibonacciê°€ ì•„ë‹Œ wrapperì´ë‹¤. helpë‚´ìž¥í•¨ìˆ˜ë‚˜ docstringì„ ì¶œë ¥í•´ë„ fibonacciê°€ ì•„ë‹Œ  wrapper ë‚´ìš©ì´ ì¶œë ¥ëœë‹¤.

* í•´ê²°ë°©ë²•
`@wraps`ë¥¼ ì´ìš©í•œë‹¤.
```python
from functools import wraps
def trace(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        pass
```
`@wraps`ë¥¼ ì‚¬ìš©í•˜ë©´ ë°ì½”ë ˆì´í„° ë‚´ë¶€ì— ë“¤ì–´ê°€ëŠ” í•¨ìˆ˜(ì—¬ê¸°ì„œëŠ” fibonacci)ì˜ ì¤‘ìš”í•œ ë©”íƒ€ë°ì´í„°ë¥¼ ë³µì‚¬í•´ wrapperí•¨ìˆ˜ì— ì ìš©í•œë‹¤.

> â“introspection    
> runtime ì¤‘ ê°ì²´ ì •ë³´ë¥¼ ê°€ì ¸ì˜´. ê°ì²´ì— ë“¤ì–´ìžˆëŠ” í•¨ìˆ˜ë‚˜ ëª¨ë“ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ê²€ì‚¬í•  ë•Œ ì‚¬ìš©.        
> https://zetcode.com/lang/python/introspection/    
> https://betterprogramming.pub/python-reflection-and-introspection-97b348be54d8    

> â“í‘œì¤€ ì• íŠ¸ë¦¬ë·°íŠ¸ ì •ë¦¬    
> https://docs.python.org/ko/3/reference/datamodel.html      

## Better Way 27. mapê³¼ filter ëŒ€ì‹  ì»´í”„ë¦¬í—¨ì…˜ì„ ì‚¬ìš©í•˜ë¼.
ì €ìžëŠ” mapê³¼ filterì„ ì“°ë©´ ì½”ë“œì˜ ìž¡ìŒì´ ë” ëŠ˜ì–´ë‚˜ë¯€ë¡œ compregension ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.
> â“filter    
> ```python
> target = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
> 
> def is_even(n):
>    return True if n % 2 == 0 else False
>
> result = filter(is_even, target)
>
> print(list(result))
> ```

> â“comprehensionì˜ ì‚¬ìš© ê°€ëŠ¥ ë²”ìœ„??      
> * íŠœí”Œì€ comprehensionì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
> ```python
> alt = (x for x in range(10) if x % 2 == 0)
> print(alt) # <generator object <genexpr> at 0x7f99d9fcb950>
> ```
> * `alt = ()` ì´ëŸ° í˜•íƒœëŠ” generator comprehension ìƒì„± ë¬¸ë²•ì´ë‹¤.    
> ì°¸ê³  : https://mingrammer.com/introduce-comprehension-of-python/