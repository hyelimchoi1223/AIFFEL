# 📝 오늘 배운 내용
## 터미널로 배우는 리눅스 운영체제
(실습 환경은 우분투 18.04.5 입니다.)
> 우분투 버전 확인하는 명령어
> ```bash
> $ cat /etc/issue
> ```

### 기본적인 터미널 명령어 정리
* `pwd` : 현재 내가 위치한 디렉토리 표시
> 홈 디렉토리의 경우 `~`로도 표시한다.
* `ls` : 현재 디렉토리 내 파일 및 폴더를 표시
  `ls —all` : 숨겨진 폴더 및 파일들도 모두 표시
  * 한글자 인자
  `ls -l` : 자세한 정보 출력
  `ls -h` : 파일의 크기를 사람이 알아볼 수 있는 단위로 표시
  `ls -t` : 파일 수정 시간 순으로 정렬. 최신 파일이 제일 위쪽
  `ls -rt` : 최신 파일이 제일 아래쪽으로 오게 정렬
    * 한글자 인자는 합쳐서 사용할 수 있다.
  `ls -alrt` : 유용하게 많이 씀. ( ls —all -l -r -t)
* `명령어 —help` : 명령어의 설명을 표시
> 너무 길어서 키보드로 화면을 스크롤 할 때 
> * 한줄씩 위/아래 스크롤 : `Ctrl+Shift+⬆️/⬇️`(윈도우)
> * 한 페이지씩 위/아래 스크롤 : `Shift+PageUp/PageDown`(윈도우),  `Shift+fn+⬆️/⬇️ `(맥)

* `cd [path]` : 해당 디렉토리로 이동
   `cd ..` : 상위 디렉토리로 이동
   
### 운영체제 & 커널
![](https://images.velog.io/images/hyelimchoi1223/post/da794a8b-0f54-4538-ab5b-61fdcada4fe4/image.png)
운영체제가 하는 일은 최고관리자(사용자)로부터 위임을 받아 어플리케이션들에게 자원을 분배하고 운영하는 역할을 한다.

위 그림에서는 그 작업을 Kernel이 한다. $운영체제  !=  커널$이지만 커널은 운영체제에서 가장 핵심적인 부분

### Shell
운영체제의 껍데기. 
* GUI 셸 : 그래픽 기반
* CLI 셸 : 텍스트 기반
> 현재 사용중인 쉘을 알아보기
> ```bash
> $ echo $SHELL
> /bin/bash 
> ```
> 내가 사용중인 쉘은 bash쉘

### 프로세스와 스레드
#### 프로세스
프로그램이 작업할 때 운영체제는 프로세스 단위로 관리. 
운영체제는 프로세스 단위로 메모리관리와 CPU 자원관리 등을 한다.
프로세스는 메모리를 할당하는 작업 단위.
하나의 프로그램 안에 여러 프로세스를 이용하는 것을 **멀티프로세싱**이라고 부른다.
* 메모리 관리 : 프로세스가 메모리의 일부만 떼어서 사용할 수 있게 관리. 프로세스 간 메모리를 공유할 수 없는데 이것은 **프로세스 격리**라는 운영체제의 중요한 보안기제. 프로세스간 통신을 위해서는 별도의 IPC(프로세스 간 통신)기법을 사용해야 한다.
* CPU 자원 관리 : CPU연산의 경우 코어 단위로 프로세스에 제공. 프로세스는 스레드라는 단위로 코어를 하나씩 사용한다. 프로세스 하나가 기본적으로 한개의 스레드를 갖지만 개발자가 다중 스레드를 사용해 설계하면 여러 코어를 사용할 수도 있다.

#### 스레드
프로세스의 실행 단위. 하나의 프로세스 안에서 여러 스레드를 활용하는 것을 **멀티스레딩**이라고 함.

### 프로세스 
* `ps` : 현재 터미널과 관련된 프로세스 목록을 출력
   `ps -e` : 현재 실행 중인 프로세스를 확인
   `ps -ef` : 모든 터미널에서 현재 실행중인 프로세스 목록 및 부가 정보 출력
* `sudo kill -s KILL [PPID]` : PPID를 가진 프로세스를 죽인다.

여기서 사용한 `kill` 명령어는 프로세스가 커널에게 요청하는 **시스템 콜**이다. 프로세스를 죽이는 것이 아닌 신호를 보내는 명령어.

### 프로그램과 환경변수
명령어에는 두 종류가 있다.
1. 실제 프로그램
2. 셸에서 제공하는 셸명령어
명령어의 정체를 파악하기 위해서는 `which`를 쓰면 된다.
```bash
$ which ls 
/bin/ls
$ which cd
$
```
ls는 프로그램, cd는 셸 명령어.

#### 환경변수
* 환경 변수 확인
```bash
$ echo $PATH
```
`$`이 붙으면 환경 변수를 의미한다.
* 환경 변수 추가
```bash
$ export PATH=/myfolder:$PATH
```
* 현재 설정된 환경변수 모두 출력
```bash
$ env
```
### 패키지 관리자
새로운 프로그램 설치하거나 기존에 설치된 프로그램 업데이트를 도와주는 기능.
`apt-get` : 패키지를 설치, 업데이트, 제거
* `apt-get update` : 패키지 목록을 최신 버전으로 가져옴.
* `apt-get install [package name]` : 패키지 설치
* `apt-get remove [package name]` : 패키지 삭제

### 사용자 권한
`sudo` : superuser. 보안 및 안정성을 위해 최고 관리자 계정만 모든 권한을 가지고 있다. 따라서 관리자 권한으로 실행하기 위해서는 `sudo`라는 것을 붙여야 한다.

#### 사용자 그룹
`group` : 사용자들을 묶어 관리

> * 그룹 목록 확인
> `cat /etc/group`
> * 사용자 목록 확인
> `cat /etc/passwd`

#### 접근 권한
> ls -lah 명령어 사용 시 나오는 리스트 구조
> ![](https://images.velog.io/images/hyelimchoi1223/post/238a2fe2-1117-4b8d-9c38-956364de57a4/image.png)
> https://brunch.co.kr/@jehovah/12

사용자, 그룹, 그외 사용자에 대해 권한을 부여할 수 있다.
* `chown` : 파일의 소유 사용자와 그룹을 변경
chown [소유사용자]:[소유그룹] [폴더 및 파일]
```bash
$ sudo chown root:root .
```
* `chmod` : 파일 및 폴더의 권한 변경
```bash
$ sudo chmod 755 myFolder
```
755의 경우 원하는 권한을 십진수로 입력하는 것.(755 : rwxrw-rw-)
권한 관련 내용은 아래의 그림을 참고.
> ![](https://images.velog.io/images/hyelimchoi1223/post/873ceb8b-7f9f-484a-a80a-ba7a9ffab93e/image.png)
> https://struggle86.tistory.com/entry/파일-권한-관리

>![](https://images.velog.io/images/hyelimchoi1223/post/a9b7b59c-e381-4a9c-8464-540d793c0257/image.png)
> https://cpro95.tistory.com/13

### 하드웨어
#### 연산장치
* CPU : 기계어를 실행해 연산을 진행.
* GPU : 그래픽 연산을 위한 연산장치. 다차원 행렬 연산에 특화되어 있다.

> CPU vs GPU
> ![](https://images.velog.io/images/hyelimchoi1223/post/4e114993-f26c-4506-9fa2-404deb0a507c/image.png)
> https://voidint.com/2020/10/14/cpu-gpu-tpu-npu/

* 그 외 TPU, ASIC 등도 있다.

#### 저장장치
* 주 저장장치 : RAM(전원이 꺼지면 메모리가 사라짐)
   RAM이 주 저장장치인 이유 : CPU와의 속도 때문이다.
* 보조 저장장치 : HDD, SSD(전원이 꺼져도 메모리가 사라지지 않음)

#### 딥러닝에서 저장장치
연산이 아닌 데이터 읽어오는데 많은 시간이 걸리면 저장장치를 SSD로 교체하거나 미리 여러 개의 스레드를 사용해 RAM에 올려두는 방법으로 해결할 수 있다.

### 클라우드와 가상화
#### 클라우드 컴퓨팅
대표적인 서비스는 **AWS**
아마존은 한 대의 물리적인 서버를 여러 개의 가상 서버로 쪼개 판매하는 서버 임대업을 시작.

#### 가상화
하나의 컴퓨터를 쪼개어 여러 대의 컴퓨터가 있는 것처럼 사용하는 기술
* 호스트 : 실제 물리적인 서버
* 게스트 : 그 안에서 돌아가는 가상 서버

**가상화의 종류**
* 가상머신 가상화 : 게스트 자체의 운영체제가 돌아감.
* 컨테이너 가상화 : 게스트들이 호스트 운영체제 커널을 공유. 대표적인 프로그램은 Docker.

### 추가적인 터미널 명령어 (맥 기준)
* `Command+Shift+C`, `Command +Shift+V` : 복사/붙여넣기
   `Command +C`, `Command +V` 도 동일하게 동작   
* `Control + A`, `Control + E` : 명령어의 앞, 뒤로 커서 이동
* `clear` = `Control + L` : 터미널에 출력된 내용 삭제
* `Control + Z`, `fg` : 프로세스 중지, 재개
* `Control + C` 또는 `esc` 누른 후 `:q!` :  vi 편집기에서 탈출하기

### 셸 스크립트
* `||` : 이전 명령이 false이면 다음 명령어 실행
* `&&` : true를 반환한 경우에만 다음 명령 실행
* `>` : 명령어의 결과를 파일에 저장
* `>>` : 명령어의 결과를 기존 파일 뒤에 추가
* `|` : 앞 명령어의 결과에 이어 명령어 실행

### 터미널 명령어 모음
* `tail -n 5` : 끝에서 정해진 개수만큼 출력. 기본 값은 5
* `cut -d ` : 텍스트를 구분자에 따라 나눈다.
* `wc` : 텍스트를 단어, 줄, 문자 등 단위로 센다.
   * `-c` : 파일의 바이트 수 출력
   * `-m` : 문자들의 수 출력
   * `-l` : 줄 수 출력
   * `-w` : 단어 수 출력
